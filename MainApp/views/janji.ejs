<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <a href="/" class="btn btn-primary mt-4">Kembali</a>
    <!-- Form untuk menambahkan janji baru -->
    <div class="form d-flex justify-content-center align-items-center">
      <div class="card w-50 d-flex justify-content-center align-items-center">
        <div class="card-body">
          <h2 class="mt-4 card-title">Tambahkan Janji Baru</h2>
          <form method="post" action="/dokter" id="formJanji">
      
            <div class="form-group">
              <label>Pilih Poli:</label><br>
              <% poliList.forEach(function(poli) { %>
                <button type="button" class="btn btn-outline-secondary poli-button" data-poli="<%= poli %>" onclick="selectPoli(this, '<%= poli %>')"><%= poli %></button>
              <% }); %>
              <input type="hidden" name="poli" id="selectedPoli" value="<%= selectedPoli %>">
            </div>
          </form>
      
          <% if (dokterList && dokterList.length > 0) { %>
            <form action="/" method="POST">
              <div class="form-group">
                <select id="poli" name="poli" >
                  <% dokterList.forEach(function(dokter) { %>
                    <option value="<%= dokter.poli %>"><%= dokter.poli %></option>
                  <% }); %>
                </select>

                <select id="idDokter" name="idDokter" >
                  <% dokterList.forEach(function(dokter) { %>
                    <option value="<%= dokter.idDokter %>"><%= dokter.idDokter %></option>
                  <% }); %>
                </select>

                <input type="text" name="idUser" id="idUser" value="<%= nextUserId %>">
              </div>

              <div class="form-group">
                <label for="namaUser">Nama Pasien:</label>
                <input name="namaUser" type="text" class="form-control" id="namaUser" placeholder="Masukkan nama pasien" required>
              </div>

              <div class="form-group">
                <label for="tanggalJanji">Tanggal Janji:</label>
                <input name="tanggalJanji" type="date" class="form-control" id="tanggalJanji" required>
              </div>

              <div class="form-group">
                <label for="keterangan">Keterangan:</label>
                <textarea name="keterangan" class="form-control" id="keterangan" rows="3" placeholder="Masukkan keterangan (opsional)"></textarea>
              </div>
            
              <div class="form-group">
                <label for="dokter">Pilih Dokter:</label>
                <select id="namaDokter" name="namaDokter">
                  <% dokterList.forEach(function(dokter) { %>
                    <option value="<%= dokter.namaDokter %>"><%= dokter.namaDokter %></option>
                  <% }); %>
                </select>
              </div>
              
              <button type="submit">Tambah Janji</button>
            </form>
          <% } %>
        
        </div>
      </div>
    </div>
    
    

    <script>
      // Fungsi untuk menetapkan nilai poli yang dipilih dan mengirimkan formulir
      function selectPoli(button, poli) {
        document.getElementById('selectedPoli').value = poli;
        submitForm();
      }
    
      // Fungsi untuk mengirimkan formulir
      function submitForm() {
        document.getElementById('formJanji').submit();
      }
    </script>

</body>
</html> -->